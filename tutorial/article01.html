<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Article 01: Create the Canvas and draw on it</title>
    <link rel="stylesheet" href="../css/style.css" />
</head>
<body>

<h1>Gamedev Canvas Content Kit</h1>
<h2>Article 01: Create the Canvas and draw on it</h2>

<p>Before we can start writing the game's functionality, we need to create a basic structure to render the game inside. This can be done using HTML and the Canvas element.</p>

<h3>The game's HTML</h3>

<p>The HTML document structure is quite simple, as the game will be rendered entirely on the Canvas element. Using your favourite text editor, create a new HTML document, save it as <code>index.html</code>, in a sensible location, and add the following code to it:</p>

<pre class="brush: html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;title&gt;Gamedev Canvas Workshop&lt;/title&gt;
    &lt;style&gt;
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="480" height="320"&gt;&lt;/canvas&gt;

&lt;script&gt;
	// JavaScript code goes here
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>We have a <code>charset</code> defined, title and some basic CSS in the header. The body contains Canvas and Script elements — we will render the game inside the first one and write the JavaScript code that controls it in the second one. The Canvas element has an <code>id</code> of <code>myCanvas</code> to allow us to easily grab a reference to it, and it is 480 pixels wide and 320 pixels high. All the JavaScript code we will write in this tutorial will go between the opening <code>&lt;script&gt;</code> and closing <code>&lt;/script&gt;</code> tags.</p>

<h3>Canvas basics</h3>

<p>To actually be able to render graphics on the Canvas element, first we have to grab a reference to it in JavaScript. Add the following below your opening <code>&lt;script&gt;</code> tag.</p>

<pre class="brush: js">
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");</pre>

<p>Here we're storing a reference to the Canvas element to the <code>canvas</code> variable for future reference. Then we're creating the <code>ctx</code> variable to store the 2D rendering context — the actual tool we can use to paint on the Canvas.</p>

<p>Let's see an example piece of code that prints a red square on the canvas. Add this below your previous lines of JavaScript, then load your <code>index.html</code> in a browser to try it out.</p>

<pre class="brush: js">
ctx.beginPath();
ctx.rect(20, 40, 50, 50);
ctx.fillStyle = "#FF0000";
ctx.fill();
ctx.closePath();</pre>

<p>All the instructions are between the <code>beginPath()</code> and <code>closePath()</code> methods. We are defining a rectangle using <code>rect()</code>: the first two values specify the coordinates of the top left corner of the rectangle on the canvas, while the second two specify the width and height of the rectangle. In our case the rectangle is painted 20 pixels from the left side of the screen and 40 pixels from the top side, and is 50 pixels wide and 50 pixels high, which makes it a perfect square. The <code>fillStyle</code> property stores a color that will be used by the <code>fill()</code> method to paint the square, in our case, red.</p>

<p>We're not limited to rectangles — here's a piece of code for printing out a green circle. Try adding this to the bottom of your JavaScript, saving and refreshing:</p>

<pre class="brush: js">
ctx.beginPath();
ctx.arc(240, 160, 20, 0, Math.PI*2, false);
ctx.fillStyle = "green";
ctx.fill();
ctx.closePath();</pre>

<p>As you can see we're using the <code>beginPath()</code> and <code>closePath()</code> methods again. Between them, the most important part of the code above is the <code>arc()</code> method. It takes six parameters:</p>

<ul>
 <li><code>x</code> and <code>y</code> coordinates of the arc's center</li>
 <li>arc radius</li>
 <li>start angle and end angle (what angle to start and finish drawing the circle, in radians)</li>
 <li>direction of drawing (<code>false</code> for clockwise, the default, or <code>true</code> for anti-clockwise.) This last parameter is optional.</li>
</ul>

<p>The <code>fillStyle</code> property looks different than before. This is because, just as with CSS, color can be specified as a hexadecimal value, a color keyword, the <code>rgba()</code> function, or any of the other available color methods.</p>

<p>Instead of using <code>fill()</code> and filling the shapes with colors, we can use <code>stroke()</code> to only colour the outer stroke. Try adding this code to your JavaScript too:</p>

<pre class="brush: js">
ctx.beginPath();
ctx.rect(160, 10, 100, 40);
ctx.strokeStyle = "rgba(0, 0, 255, 0.5)";
ctx.stroke();
ctx.closePath();</pre>

<p>The code above prints a blue-stroked empty rectangle. Thanks to the alpha channel in the <code>rgba()</code> function, the blue color is semi transparent.</p>

<h3>Compare your code</h3>

<p>Here's the full source code of the first lesson, running live in a JSFiddle:</p>

<p><iframe width="100%" height="370" src="https://jsfiddle.net/end3r/x62h15e2/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe></p>

<div class="note">
<p><strong>Exercise</strong>: try changing the size and color of the given shapes.</p>
</div>

<h3>Next steps</h3>

<p>Now we've set up the basic HTML and learned a bit about canvas, lets continue to the second chapter and work out how to <a href="https://end3r.github.io/Gamedev-Canvas-Content-Kit/tutorial/articles/article02.html">Move the ball in our game</a>.</p>

</body>
</html>